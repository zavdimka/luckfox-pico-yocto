# Luckfox Pico RV1106 - SPI NAND Configuration
# Inherits from base luckfox-pico machine, changes boot medium to SPI NAND

require conf/machine/luckfox-pico.conf

# Override boot medium for SPI NAND
RK_BOOT_MEDIUM = "spi_nand"
ROCKCHIP_BOOT_MEDIUM = "${RK_BOOT_MEDIUM}"

# SPI NAND specific device tree
KERNEL_DTS_FILE = "rv1106g-luckfox-pico-max-t1.dts"

# SPI NAND parameters (from SDK build.sh)
RK_NAND_BLOCK_SIZE = "128K"
RK_NAND_PAGE_SIZE = "2K"
RK_NAND_OOB_SIZE = "128"

# Partition layout for SPI NAND (UBI volumes)
# Format: size@offset(name) - offset is optional, calculated automatically
ROCKCHIP_PARTITION_LAYOUT = "128K(env),512K@128K(idblock),512K(uboot),10M(boot),-(rootfs)"
RK_BOOT_ROOT_ARGS = "ubi.mtd=4 root=ubi0:rootfs rootfstype=ubifs"
MACHINE_FEATURES += "ubifs usbhost"
